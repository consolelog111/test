import{a as U,b as X,c as q,d as M,e as Z,f as z,g as B,h as J,i as k}from"/build/_shared/chunk-LF2RRCOB.js";import{a as l,h as x,i as G,j as Q,k as S,m as V,n as h,p as w,q as W}from"/build/_shared/chunk-LWOBU4ZG.js";import{a as be}from"/build/_shared/chunk-KYDOHSFW.js";import{a as _}from"/build/_shared/chunk-CQXTAVIO.js";import{c as O}from"/build/_shared/chunk-Q3IECNXJ.js";var n=O(_());var ee=O(_()),D=0;function oe(){(0,ee.useEffect)(()=>{var e,t;let o=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=o[0])!==null&&e!==void 0?e:Y()),document.body.insertAdjacentElement("beforeend",(t=o[1])!==null&&t!==void 0?t:Y()),D++,()=>{D===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),D--}},[])}function Y(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var p=O(_());var j="focusScope.autoFocusOnMount",H="focusScope.autoFocusOnUnmount",te={bubbles:!1,cancelable:!0};var se=(0,p.forwardRef)((e,t)=>{let{loop:o=!1,trapped:r=!1,onMountAutoFocus:c,onUnmountAutoFocus:a,...u}=e,[s,m]=(0,p.useState)(null),b=w(c),g=w(a),P=(0,p.useRef)(null),v=S(t,d=>m(d)),$=(0,p.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,p.useEffect)(()=>{if(r){let d=function(f){if($.paused||!s)return;let F=f.target;s.contains(F)?P.current=F:E(P.current,{select:!0})},A=function(f){$.paused||!s||s.contains(f.relatedTarget)||E(P.current,{select:!0})};return document.addEventListener("focusin",d),document.addEventListener("focusout",A),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",A)}}},[r,s,$.paused]),(0,p.useEffect)(()=>{if(s){ce.add($);let d=document.activeElement;if(!s.contains(d)){let f=new CustomEvent(j,te);s.addEventListener(j,b),s.dispatchEvent(f),f.defaultPrevented||(ve(Ce(ae(s)),{select:!0}),document.activeElement===d&&E(s))}return()=>{s.removeEventListener(j,b),setTimeout(()=>{let f=new CustomEvent(H,te);s.addEventListener(H,g),s.dispatchEvent(f),f.defaultPrevented||E(d??document.body,{select:!0}),s.removeEventListener(H,g),ce.remove($)},0)}}},[s,b,g,$]);let me=(0,p.useCallback)(d=>{if(!o&&!r||$.paused)return;let A=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,f=document.activeElement;if(A&&f){let F=d.currentTarget,[T,I]=ge(F);T&&I?!d.shiftKey&&f===I?(d.preventDefault(),o&&E(T,{select:!0})):d.shiftKey&&f===T&&(d.preventDefault(),o&&E(I,{select:!0})):f===F&&d.preventDefault()}},[o,r,$.paused]);return(0,p.createElement)(h.div,l({tabIndex:-1},u,{ref:v,onKeyDown:me}))});function ve(e,{select:t=!1}={}){let o=document.activeElement;for(let r of e)if(E(r,{select:t}),document.activeElement!==o)return}function ge(e){let t=ae(e),o=re(t,e),r=re(t.reverse(),e);return[o,r]}function ae(e){let t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{let c=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||c?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function re(e,t){for(let o of e)if(!Pe(o,{upTo:t}))return o}function Pe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function he(e){return e instanceof HTMLInputElement&&"select"in e}function E(e,{select:t=!1}={}){if(e&&e.focus){let o=document.activeElement;e.focus({preventScroll:!0}),e!==o&&he(e)&&t&&e.select()}}var ce=Ee();function Ee(){let e=[];return{add(t){let o=e[0];t!==o&&o?.pause(),e=ne(e,t),e.unshift(t)},remove(t){var o;e=ne(e,t),(o=e[0])===null||o===void 0||o.resume()}}}function ne(e,t){let o=[...e],r=o.indexOf(t);return r!==-1&&o.splice(r,1),o}function Ce(e){return e.filter(t=>t.tagName!=="A")}var y=O(_()),ue=O(be());var ie=(0,y.forwardRef)((e,t)=>{var o;let{container:r=globalThis==null||(o=globalThis.document)===null||o===void 0?void 0:o.body,...c}=e;return r?ue.default.createPortal((0,y.createElement)(h.div,l({},c,{ref:t})),r):null});var i=O(_());var K=(0,i.forwardRef)((e,t)=>{let{children:o,...r}=e,c=i.Children.toArray(o),a=c.find(xe);if(a){let u=a.props.children,s=c.map(m=>m===a?i.Children.count(u)>1?i.Children.only(null):(0,i.isValidElement)(u)?u.props.children:null:m);return(0,i.createElement)(L,l({},r,{ref:t}),(0,i.isValidElement)(u)?(0,i.cloneElement)(u,void 0,s):null)}return(0,i.createElement)(L,l({},r,{ref:t}),o)});K.displayName="Slot";var L=(0,i.forwardRef)((e,t)=>{let{children:o,...r}=e;return(0,i.isValidElement)(o)?(0,i.cloneElement)(o,{...Ae(r,o.props),ref:Q(t,o.ref)}):i.Children.count(o)>1?i.Children.only(null):null});L.displayName="SlotClone";var Oe=({children:e})=>(0,i.createElement)(i.Fragment,null,e);function xe(e){return(0,i.isValidElement)(e)&&e.type===Oe}function Ae(e,t){let o={...t};for(let r in t){let c=e[r],a=t[r];/^on[A-Z]/.test(r)?c&&a?o[r]=(...s)=>{a(...s),c(...s)}:c&&(o[r]=c):r==="style"?o[r]={...c,...a}:r==="className"&&(o[r]=[c,a].filter(Boolean).join(" "))}return{...e,...o}}var de="Popover",[le,mo]=G(de,[M]),N=M(),[Fe,C]=le(de),_e=e=>{let{__scopePopover:t,children:o,open:r,defaultOpen:c,onOpenChange:a,modal:u=!1}=e,s=N(t),m=(0,n.useRef)(null),[b,g]=(0,n.useState)(!1),[P=!1,v]=W({prop:r,defaultProp:c,onChange:a});return(0,n.createElement)(Z,s,(0,n.createElement)(Fe,{scope:t,contentId:V(),triggerRef:m,open:P,onOpenChange:v,onOpenToggle:(0,n.useCallback)(()=>v($=>!$),[v]),hasCustomAnchor:b,onCustomAnchorAdd:(0,n.useCallback)(()=>g(!0),[]),onCustomAnchorRemove:(0,n.useCallback)(()=>g(!1),[]),modal:u},o))};var Se="PopoverTrigger",Re=(0,n.forwardRef)((e,t)=>{let{__scopePopover:o,...r}=e,c=C(Se,o),a=N(o),u=S(t,c.triggerRef),s=(0,n.createElement)(h.button,l({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":$e(c.open)},r,{ref:u,onClick:x(e.onClick,c.onOpenToggle)}));return c.hasCustomAnchor?s:(0,n.createElement)(z,l({asChild:!0},a),s)}),fe="PopoverPortal",[ye,Ne]=le(fe,{forceMount:void 0}),Te=e=>{let{__scopePopover:t,forceMount:o,children:r,container:c}=e,a=C(fe,t);return(0,n.createElement)(ye,{scope:t,forceMount:o},(0,n.createElement)(k,{present:o||a.open},(0,n.createElement)(ie,{asChild:!0,container:c},r)))},R="PopoverContent",Ie=(0,n.forwardRef)((e,t)=>{let o=Ne(R,e.__scopePopover),{forceMount:r=o.forceMount,...c}=e,a=C(R,e.__scopePopover);return(0,n.createElement)(k,{present:r||a.open},a.modal?(0,n.createElement)(we,l({},c,{ref:t})):(0,n.createElement)(Me,l({},c,{ref:t})))}),we=(0,n.forwardRef)((e,t)=>{let o=C(R,e.__scopePopover),r=(0,n.useRef)(null),c=S(t,r),a=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let u=r.current;if(u)return U(u)},[]),(0,n.createElement)(X,{as:K,allowPinchZoom:!0},(0,n.createElement)(pe,l({},e,{ref:c,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(e.onCloseAutoFocus,u=>{var s;u.preventDefault(),a.current||(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:x(e.onPointerDownOutside,u=>{let s=u.detail.originalEvent,m=s.button===0&&s.ctrlKey===!0,b=s.button===2||m;a.current=b},{checkForDefaultPrevented:!1}),onFocusOutside:x(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})))}),Me=(0,n.forwardRef)((e,t)=>{let o=C(R,e.__scopePopover),r=(0,n.useRef)(!1);return(0,n.createElement)(pe,l({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,c),!c.defaultPrevented){var u;r.current||(u=o.triggerRef.current)===null||u===void 0||u.focus(),c.preventDefault()}r.current=!1},onInteractOutside:c=>{var a,u;(a=e.onInteractOutside)===null||a===void 0||a.call(e,c),c.defaultPrevented||(r.current=!0);let s=c.target;((u=o.triggerRef.current)===null||u===void 0?void 0:u.contains(s))&&c.preventDefault()}}))}),pe=(0,n.forwardRef)((e,t)=>{let{__scopePopover:o,trapFocus:r,onOpenAutoFocus:c,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEscapeKeyDown:s,onPointerDownOutside:m,onFocusOutside:b,onInteractOutside:g,...P}=e,v=C(R,o),$=N(o);return oe(),(0,n.createElement)(se,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:c,onUnmountAutoFocus:a},(0,n.createElement)(q,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:g,onEscapeKeyDown:s,onPointerDownOutside:m,onFocusOutside:b,onDismiss:()=>v.onOpenChange(!1)},(0,n.createElement)(B,l({"data-state":$e(v.open),role:"dialog",id:v.contentId},$,P,{ref:t,style:{...P.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),ke="PopoverClose",De=(0,n.forwardRef)((e,t)=>{let{__scopePopover:o,...r}=e,c=C(ke,o);return(0,n.createElement)(h.button,l({type:"button"},r,{ref:t,onClick:x(e.onClick,()=>c.onOpenChange(!1))}))});var je=(0,n.forwardRef)((e,t)=>{let{__scopePopover:o,...r}=e,c=N(o);return(0,n.createElement)(J,l({},c,r,{ref:t}))});function $e(e){return e?"open":"closed"}var bo=_e;var vo=Re,go=Te,Po=Ie,ho=De,Eo=je;export{bo as a,vo as b,go as c,Po as d,ho as e,Eo as f};
