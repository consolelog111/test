import{a as t}from"/build/_shared/chunk-QFJ5IYWW.js";import{a as m}from"/build/_shared/chunk-CQXTAVIO.js";import{c as i}from"/build/_shared/chunk-Q3IECNXJ.js";var n=i(m()),a={meta:{title:"Testing | React Spring","og:title":"Testing | React Spring","twitter:title":"Testing | React Spring",description:"A detailed guide to using React Spring with testing.","og:description":"A detailed guide to using React Spring with testing.","twitter:description":"A detailed guide to using React Spring with testing.","og:url":"https://www.react-spring.dev/docs/guides/testing","twitter:url":"https://www.react-spring.dev/docs/guides/testing"},sidebar_position:2};function l(o={}){let s=Object.assign({h1:"h1",a:"a",note:"note",p:"p",code:"code",h2:"h2",pre:"pre",div:"div",span:"span",h3:"h3"},t(),o.components),{wrapper:e}=s,p=n.default.createElement(n.default.Fragment,null,n.default.createElement(s.h1,{id:"testing"},n.default.createElement(s.a,{href:"#testing"},"Testing")),`
`,n.default.createElement(s.note,null,n.default.createElement(s.p,null,"All the examples in this guide are using ",n.default.createElement(s.a,{href:"https://jestjs.io/"},n.default.createElement(s.code,null,"jest"))," as the testing framework & ",n.default.createElement(s.a,{href:"https://testing-library.com/docs/react-testing-library/intro/"},n.default.createElement(s.code,null,"react-testing-library")),`.
If you wish to see these examples using other testing frameworks or perhaps there are caveats
that are specific to another testing framework, please open an issue or a PR.`)),`
`,n.default.createElement(s.h2,{id:"introduction"},n.default.createElement(s.a,{href:"#introduction"},"Introduction")),`
`,n.default.createElement(s.p,null,"In this guide, we'll go through testing a basic component that uses ",n.default.createElement(s.code,null,"useSpring")," and ",n.default.createElement(s.code,null,"animated")," from the library:"),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-tsx"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token function-variable function"},n.default.createElement(s.span,{className:"token maybe-class-name"},"FadeIn"))," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{")," isVisible",n.default.createElement(s.span,{className:"token punctuation"},",")," children ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," styles ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useSpring"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},"    opacity",n.default.createElement(s.span,{className:"token operator"},":")," isVisible ",n.default.createElement(s.span,{className:"token operator"},"?")," ",n.default.createElement(s.span,{className:"token number"},"1")," ",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"0"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},"    y",n.default.createElement(s.span,{className:"token operator"},":")," isVisible ",n.default.createElement(s.span,{className:"token operator"},"?")," ",n.default.createElement(s.span,{className:"token number"},"0")," ",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"24"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword control-flow"},"return")," ",n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"animated.div")," ",n.default.createElement(s.span,{className:"token attr-name"},"style"),n.default.createElement(s.span,{className:"token script language-javascript"},n.default.createElement(s.span,{className:"token script-punctuation punctuation"},"="),n.default.createElement(s.span,{className:"token punctuation"},"{"),"styles",n.default.createElement(s.span,{className:"token punctuation"},"}")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},"{"),"children",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),"animated.div"),n.default.createElement(s.span,{className:"token punctuation"},">")),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`))),`
`,n.default.createElement(s.p,null,"Our component takes two props, ",n.default.createElement(s.code,null,"children")," & more importantly, ",n.default.createElement(s.code,null,"isVisible"),". When ",n.default.createElement(s.code,null,"isVisible")," is ",n.default.createElement(s.code,null,"true"),`, we want to fade
in the component and when it's `,n.default.createElement(s.code,null,"false"),", we want to fade it out. We could test the ",n.default.createElement(s.code,null,"y"),` position of the element, but for
the purposes of this guide, we'll focus on the `,n.default.createElement(s.code,null,"opacity"),"."),`
`,n.default.createElement(s.p,null,"So, let's start by writing a test for this component."),`
`,n.default.createElement(s.h2,{id:"example"},n.default.createElement(s.a,{href:"#example"},"Example")),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-tsx"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," render",n.default.createElement(s.span,{className:"token punctuation"},",")," screen ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@testing-library/react'"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," animated",n.default.createElement(s.span,{className:"token punctuation"},",")," useSpring ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@react-spring/web'"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"FadeIn")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'./FadeIn'"),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token function"},"test"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Correctly renders the FadeIn component'"),n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token keyword"},"async")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"{")," rerender ",n.default.createElement(s.span,{className:"token punctuation"},"}")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"render"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," element ",n.default.createElement(s.span,{className:"token operator"},"=")," screen",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"getByText"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Hello!'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"11",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 0'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"12",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.p,null,"This initial test is pretty simple, we're just rendering the component and asserting that the opacity is ",n.default.createElement(s.code,null,"0"),` when the
component is initially mounted, and by all means it will be pass. Now we want to look at testing that the opacity of element
changes when the `,n.default.createElement(s.code,null,"isVisible")," prop changes. So we modify our test to look like this:"),`
`,n.default.createElement(s.pre,{lines:"13-15"},n.default.createElement(s.code,{className:"language-tsx",lines:"13-15"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," render",n.default.createElement(s.span,{className:"token punctuation"},",")," screen ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@testing-library/react'"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," animated",n.default.createElement(s.span,{className:"token punctuation"},",")," useSpring ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@react-spring/web'"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"FadeIn")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'./FadeIn'"),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token function"},"test"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Correctly renders the FadeIn component'"),n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"{")," rerender ",n.default.createElement(s.span,{className:"token punctuation"},"}")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"render"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," element ",n.default.createElement(s.span,{className:"token operator"},"=")," screen",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"getByText"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Hello!'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"11",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 0'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"12",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"13",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token function"},"rerender"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn"))," ",n.default.createElement(s.span,{className:"token attr-name"},"isVisible"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"14",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"15",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 1'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"16",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.p,null,"This test will fail with an error that will look something like this:"),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-bash"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},"expect",n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),".toHaveStyle",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},`- Expected
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},"- opacity: ",n.default.createElement(s.span,{className:"token number"},"1"),n.default.createElement(s.span,{className:"token punctuation"},";"),`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},"+ opacity: ",n.default.createElement(s.span,{className:"token number"},"0"),n.default.createElement(s.span,{className:"token punctuation"},";"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token number"},"21")," ",n.default.createElement(s.span,{className:"token operator"},"|"),"   rerender",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token operator"},"<"),"FadeIn isVisible",n.default.createElement(s.span,{className:"token operator"},">"),"Hello",n.default.createElement(s.span,{className:"token operator"},"!"),n.default.createElement(s.span,{className:"token operator"},"<"),"/FadeIn",n.default.createElement(s.span,{className:"token operator"},">"),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},";"),`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token operator"},">")," ",n.default.createElement(s.span,{className:"token number"},"23")," ",n.default.createElement(s.span,{className:"token operator"},"|"),"   expect",n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),".toHaveStyle",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},'"opacity: 1"'),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},";"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token number"},"24")," ",n.default.createElement(s.span,{className:"token operator"},"|")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},";"),`
`))),`
`,n.default.createElement(s.p,null,"And if you're familiar with how ",n.default.createElement(s.code,null,"jest")," works you won't be surprised by this error. The problem is that ",n.default.createElement(s.code,null,"useSpring"),` animates
values, that is the value isn't set immediately, but rather it's changed over time. So, we could wait for the animation to
become what we expect by using `,n.default.createElement(s.code,null,"waitFor"),":"),`
`,n.default.createElement(s.pre,{lines:"1,6,15-17"},n.default.createElement(s.code,{className:"language-tsx",lines:"1,6,15-17"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," render",n.default.createElement(s.span,{className:"token punctuation"},",")," screen",n.default.createElement(s.span,{className:"token punctuation"},",")," waitFor ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@testing-library/react'"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," animated",n.default.createElement(s.span,{className:"token punctuation"},",")," useSpring ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@react-spring/web'"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"FadeIn")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'./FadeIn'"),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token function"},"test"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Correctly renders the FadeIn component'"),n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token keyword"},"async")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"{")," rerender ",n.default.createElement(s.span,{className:"token punctuation"},"}")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"render"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," element ",n.default.createElement(s.span,{className:"token operator"},"=")," screen",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"getByText"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Hello!'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"11",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 0'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"12",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"13",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"rerender"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn"))," ",n.default.createElement(s.span,{className:"token attr-name"},"isVisible"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"14",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"15",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword control-flow"},"await")," ",n.default.createElement(s.span,{className:"token function"},"waitFor"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"16",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 1'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"17",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"18",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.p,null,`And this would pass, but now we're waiting for the animation to change and update and this adds more time to your tests, time
that's a bit unnecessary because we're not interested in the visual effects in this scenario, we want to know the updates are
correctly made.`),`
`,n.default.createElement(s.h2,{id:"skipping-animations"},n.default.createElement(s.a,{href:"#skipping-animations"},"Skipping Animations")),`
`,n.default.createElement(s.p,null,"The solution to this problem is to skip animations when testing. This can be done by using the ",n.default.createElement(s.code,null,"Globals")," object and calling the ",n.default.createElement(s.code,null,"assign"),`
method setting `,n.default.createElement(s.code,null,"skipAnimations")," to ",n.default.createElement(s.code,null,"true"),". You can does this immediately in the ",n.default.createElement(s.code,null,"setup"),` file for your tests or if you want more granual
control then you could use the `,n.default.createElement(s.code,null,"beforeAll | beforeEach")," hooks to set it."),`
`,n.default.createElement(s.pre,{lines:"2,5-10"},n.default.createElement(s.code,{className:"language-tsx",lines:"2,5-10"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," render",n.default.createElement(s.span,{className:"token punctuation"},",")," screen",n.default.createElement(s.span,{className:"token punctuation"},",")," waitFor ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@testing-library/react'"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," animated",n.default.createElement(s.span,{className:"token punctuation"},",")," useSpring",n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"Globals")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@react-spring/web'"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"FadeIn")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'./FadeIn'"),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token function"},"beforeAll"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token maybe-class-name"},"Globals"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"assign"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"true"},"    skipAnimation",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token boolean"},"true"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"11",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"12",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token function"},"test"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Correctly renders the FadeIn component'"),n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token keyword"},"async")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"13",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"{")," rerender ",n.default.createElement(s.span,{className:"token punctuation"},"}")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"render"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"14",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"15",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," element ",n.default.createElement(s.span,{className:"token operator"},"=")," screen",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"getByText"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Hello!'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"16",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"17",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 0'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"18",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"19",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"rerender"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn"))," ",n.default.createElement(s.span,{className:"token attr-name"},"isVisible"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"20",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"21",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword control-flow"},"await")," ",n.default.createElement(s.span,{className:"token function"},"waitFor"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"22",className:"highlight-line","data-highlighted":"false"},"    ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 1'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"23",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"24",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.p,null,"This would then set the opacity immediate to ",n.default.createElement(s.code,null,"1")," and the test would pass. However, we still are required to use ",n.default.createElement(s.code,null,"waitFor"),` because the update
requires a tick of the environment to reflect the changes.`),`
`,n.default.createElement(s.h2,{id:"fake-timers"},n.default.createElement(s.a,{href:"#fake-timers"},"Fake Timers")),`
`,n.default.createElement(s.p,null,"Alternatively, if you want to keep your code simpler by avoiding an async call for ",n.default.createElement(s.code,null,"waitFor")," you could opt to use ",n.default.createElement(s.code,null,"jest.useFakeTimers")," and manually advance the environment:"),`
`,n.default.createElement(s.pre,{lines:"11,23"},n.default.createElement(s.code,{className:"language-tsx",lines:"11,23"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," render",n.default.createElement(s.span,{className:"token punctuation"},",")," screen",n.default.createElement(s.span,{className:"token punctuation"},",")," waitFor ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@testing-library/react'"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," animated",n.default.createElement(s.span,{className:"token punctuation"},",")," useSpring",n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"Globals")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@react-spring/web'"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," ",n.default.createElement(s.span,{className:"token maybe-class-name"},"FadeIn")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'./FadeIn'"),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token function"},"beforeAll"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token maybe-class-name"},"Globals"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"assign"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"false"},"    skipAnimation",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token boolean"},"true"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"11",className:"highlight-line","data-highlighted":"true"},"  jest",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"useFakeTimers"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"12",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"13",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"14",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token function"},"test"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Correctly renders the FadeIn component'"),n.default.createElement(s.span,{className:"token punctuation"},",")," ",n.default.createElement(s.span,{className:"token keyword"},"async")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"15",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"{")," rerender ",n.default.createElement(s.span,{className:"token punctuation"},"}")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"render"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"16",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"17",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," element ",n.default.createElement(s.span,{className:"token operator"},"=")," screen",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"getByText"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'Hello!'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"18",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"19",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 0'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"20",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"21",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"rerender"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn"))," ",n.default.createElement(s.span,{className:"token attr-name"},"isVisible"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Hello!"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),n.default.createElement(s.span,{className:"token class-name"},"FadeIn")),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"22",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"23",className:"highlight-line","data-highlighted":"true"},"  jest",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"advanceTimersByTime"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token number"},"1"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"24",className:"highlight-line","data-highlighted":"false"},`
`),n.default.createElement(s.div,{"data-line":"25",className:"highlight-line","data-highlighted":"false"},"  ",n.default.createElement(s.span,{className:"token function"},"expect"),n.default.createElement(s.span,{className:"token punctuation"},"("),"element",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"toHaveStyle"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token string"},"'opacity: 1'"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"26",className:"highlight-line","data-highlighted":"false"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.h2,{id:"troubleshooting"},n.default.createElement(s.a,{href:"#troubleshooting"},"Troubleshooting")),`
`,n.default.createElement(s.h3,{id:"esm-modules-not-handled-by-jest"},n.default.createElement(s.a,{href:"#esm-modules-not-handled-by-jest"},"ESM modules not handled by jest")),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-bash"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},`path/to/project/node_modules/@react-spring/web/react-spring-web.esm.js.js:1
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),n.default.createElement(s.span,{className:"token string"},'"Object.<anonymous>"'),":function",n.default.createElement(s.span,{className:"token punctuation"},"("),"module,exports,require,",n.default.createElement(s.span,{className:"highlight-word"},"dirname,"),"filename,global,jest",n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"{"),"import _objectWithoutPropertiesLoose from ",n.default.createElement(s.span,{className:"token string"},"'@babel/runtime/helpers/esm/objectWithoutPropertiesLoose'"),n.default.createElement(s.span,{className:"token punctuation"},";"),`
`))),`
`,n.default.createElement(s.p,null,"You may have come across this message when testing with ",n.default.createElement(s.code,null,"jest"),`. If you have, this is because jest
is incorrectly resolving the correct file type for the library. It in fact wants to be using the
`,n.default.createElement(s.code,null,"cjs")," file type. To fix this, you can add the following to your ",n.default.createElement(s.code,null,"jest.config.js")," file:"),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-ts"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},"module",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token property-access"},"exports")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},"  moduleNameMapper",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token string-property property"},"'@react-spring/web'"),n.default.createElement(s.span,{className:"token operator"},":"),`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},"      ",n.default.createElement(s.span,{className:"token string"},"'<rootDir>/node_modules/@react-spring/web/react-spring-web.cjs.js'"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`))),`
`,n.default.createElement(s.p,null,"This could be applicable to any target you're using e.g. ",n.default.createElement(s.code,null,"@react-spring/native"),"."));return e?n.default.createElement(e,{...o},p):p}var c=l;var _=typeof a<"u"&&a.headers,d=typeof a<"u"&&a.meta,h=typeof a<"u"&&a.handle;export{c as default,h as handle,d as meta};
