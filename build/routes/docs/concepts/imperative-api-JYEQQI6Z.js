import{a as t}from"/build/_shared/chunk-QFJ5IYWW.js";import{a as m}from"/build/_shared/chunk-CQXTAVIO.js";import{c as i}from"/build/_shared/chunk-Q3IECNXJ.js";var n=i(m()),a={meta:{title:"Imperative API | React Spring","og:title":"Imperative API | React Spring","twitter:title":"Imperative API | React Spring",description:"An in-depth conceptual guide to Imperative API and what they are in React Spring.","og:description":"An in-depth conceptual guide to Imperative API and what they are in React Spring.","twitter:description":"An in-depth conceptual guide to Imperative API and what they are in React Spring.","og:url":"https://www.react-spring.dev/docs/concepts/animated-elements","twitter:url":"https://www.react-spring.dev/docs/concepts/animated-elements"},sidebar_position:3};function l(o={}){let s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",pre:"pre",div:"div",span:"span",warning:"warning",note:"note"},t(),o.components),{wrapper:e}=s,p=n.default.createElement(n.default.Fragment,null,n.default.createElement(s.h1,{id:"imperative-api"},n.default.createElement(s.a,{href:"#imperative-api"},"Imperative API")),`
`,n.default.createElement(s.p,null,`The imperative API enables you to update your animations without requiring a react-render to occur. This is useful
for animations that are not tied to a component's lifecycle, such as animations that are triggered by user input.`),`
`,n.default.createElement(s.p,null,"In essence, it is simply a ",n.default.createElement(s.code,null,"SpringRef")," with the hook's ",n.default.createElement(s.code,null,"Controller")," attached to it. You can additionally add more ",n.default.createElement(s.code,null,"Controller"),`s
to the `,n.default.createElement(s.code,null,"SpringRef")," to create a multi-controller animation, similar to that of the ",n.default.createElement(s.code,null,"useChain")," hook."),`
`,n.default.createElement(s.h2,{id:"comparison"},n.default.createElement(s.a,{href:"#comparison"},"Comparison")),`
`,n.default.createElement(s.p,null,"What we can see from the below comparions, is that using the ",n.default.createElement(s.code,null,"api")," object either returned from your ",n.default.createElement(s.code,null,"useSpring"),` hook,
or generated via `,n.default.createElement(s.code,null,"useSpringRef")," and passed to the hook, means your components do not re-render when the animation runs."),`
`,n.default.createElement(s.pre,{code:`import { useState } from 'react'
import { useSpring, useSpringRef, animated } from '@react-spring/web'

const ApiComponent = () => {
  const api = useSpringRef()
  const springs = useSpring({
    ref: api,
    from: { x: 0 },
  })

  const handleClick = () => {
    api.start({
      to: {
        x: springs.x.get() === 100 ? 0 : 100,
      },
    })
  }

  return (
    <div className="flex-container">
      <animated.div
        onClick={handleClick}
        style={{
          width: 80,
          height: 80,
          background: '#ff6d6d',
          borderRadius: 8,
          ...springs,
        }}
      />
      <span>Render ID \u2013 {Math.random()}</span>
    </div>
  )
}

const StateComponent = () => {
  const [forward, setForward] = useState(false)

  const springs = useSpring({
    x: forward ? 100 : 0,
  })

  const handleClick = () => {
    setForward(s => !s)
  }

  return (
    <div className="flex-container">
      <animated.div
        onClick={handleClick}
        style={{
          width: 80,
          height: 80,
          background: '#ff6d6d',
          borderRadius: 8,
          ...springs,
        }}
      />
      <span>Render ID \u2013 {Math.random()}</span>
    </div>
  )
}

export default function MyComponent() {
  return (
    <div className="flex-container--column">
      <ApiComponent />
      <StateComponent />
    </div>
  )
}
`,live:"true",template:"imperative"},n.default.createElement(s.code,{className:"language-tsx",live:"true",template:"imperative"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," useState ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'react'"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"import")," ",n.default.createElement(s.span,{className:"token imports"},n.default.createElement(s.span,{className:"token punctuation"},"{")," useSpring",n.default.createElement(s.span,{className:"token punctuation"},",")," useSpringRef",n.default.createElement(s.span,{className:"token punctuation"},",")," animated ",n.default.createElement(s.span,{className:"token punctuation"},"}"))," ",n.default.createElement(s.span,{className:"token keyword module"},"from")," ",n.default.createElement(s.span,{className:"token string"},"'@react-spring/web'"),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token function-variable function"},n.default.createElement(s.span,{className:"token maybe-class-name"},"ApiComponent"))," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," api ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useSpringRef"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," springs ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useSpring"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"7",className:"highlight-line","data-highlighted":"true"},"    ref",n.default.createElement(s.span,{className:"token operator"},":")," api",n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"8",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token keyword module"},"from"),n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token punctuation"},"{")," x",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"0")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"9",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"10",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"11",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token function-variable function"},"handleClick")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"12",className:"highlight-line","data-highlighted":"true"},"    api",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"start"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"13",className:"highlight-line","data-highlighted":"true"},"      to",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"14",className:"highlight-line","data-highlighted":"true"},"        x",n.default.createElement(s.span,{className:"token operator"},":")," springs",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token property-access"},"x"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"get"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token operator"},"===")," ",n.default.createElement(s.span,{className:"token number"},"100")," ",n.default.createElement(s.span,{className:"token operator"},"?")," ",n.default.createElement(s.span,{className:"token number"},"0")," ",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"100"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"15",className:"highlight-line","data-highlighted":"true"},"      ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"16",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"17",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`),n.default.createElement(s.div,{"data-line":"18",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"19",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword control-flow"},"return")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),`
`),n.default.createElement(s.div,{"data-line":"20",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"div")," ",n.default.createElement(s.span,{className:"token attr-name"},"className"),n.default.createElement(s.span,{className:"token attr-value"},n.default.createElement(s.span,{className:"token punctuation attr-equals"},"="),n.default.createElement(s.span,{className:"token punctuation"},'"'),"flex-container",n.default.createElement(s.span,{className:"token punctuation"},'"')),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"21",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"      "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"animated.div"),`
        `,n.default.createElement(s.span,{className:"token attr-name"},"onClick"),n.default.createElement(s.span,{className:"token script language-javascript"},n.default.createElement(s.span,{className:"token script-punctuation punctuation"},"="),n.default.createElement(s.span,{className:"token punctuation"},"{"),"handleClick",n.default.createElement(s.span,{className:"token punctuation"},"}")),`
        `,n.default.createElement(s.span,{className:"token attr-name"},"style"),n.default.createElement(s.span,{className:"token script language-javascript"},n.default.createElement(s.span,{className:"token script-punctuation punctuation"},"="),n.default.createElement(s.span,{className:"token punctuation"},"{"),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
          width`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"80"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          height`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"80"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          background`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token string"},"'#ff6d6d'"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          borderRadius`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"8"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          `,n.default.createElement(s.span,{className:"token spread operator"},"..."),"springs",n.default.createElement(s.span,{className:"token punctuation"},","),`
        `,n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},"}")),`
      `,n.default.createElement(s.span,{className:"token punctuation"},"/>")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"22",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"      "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"span"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Render ID \u2013 "),n.default.createElement(s.span,{className:"token punctuation"},"{"),n.default.createElement(s.span,{className:"token known-class-name class-name"},"Math"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"random"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),"span"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"23",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"    "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),"div"),n.default.createElement(s.span,{className:"token punctuation"},">")),`
`),n.default.createElement(s.div,{"data-line":"24",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"25",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`),n.default.createElement(s.div,{"data-line":"26",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"27",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token function-variable function"},n.default.createElement(s.span,{className:"token maybe-class-name"},"StateComponent"))," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"28",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"["),"forward",n.default.createElement(s.span,{className:"token punctuation"},",")," setForward",n.default.createElement(s.span,{className:"token punctuation"},"]")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useState"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token boolean"},"false"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"29",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"30",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," springs ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useSpring"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"31",className:"highlight-line","data-highlighted":"true"},"    x",n.default.createElement(s.span,{className:"token operator"},":")," forward ",n.default.createElement(s.span,{className:"token operator"},"?")," ",n.default.createElement(s.span,{className:"token number"},"100")," ",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"0"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"32",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"33",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"34",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token function-variable function"},"handleClick")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"35",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token function"},"setForward"),n.default.createElement(s.span,{className:"token punctuation"},"("),"s ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token operator"},"!"),"s",n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"36",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`),n.default.createElement(s.div,{"data-line":"37",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"38",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword control-flow"},"return")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),`
`),n.default.createElement(s.div,{"data-line":"39",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"div")," ",n.default.createElement(s.span,{className:"token attr-name"},"className"),n.default.createElement(s.span,{className:"token attr-value"},n.default.createElement(s.span,{className:"token punctuation attr-equals"},"="),n.default.createElement(s.span,{className:"token punctuation"},'"'),"flex-container",n.default.createElement(s.span,{className:"token punctuation"},'"')),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"40",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"      "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"animated.div"),`
        `,n.default.createElement(s.span,{className:"token attr-name"},"onClick"),n.default.createElement(s.span,{className:"token script language-javascript"},n.default.createElement(s.span,{className:"token script-punctuation punctuation"},"="),n.default.createElement(s.span,{className:"token punctuation"},"{"),"handleClick",n.default.createElement(s.span,{className:"token punctuation"},"}")),`
        `,n.default.createElement(s.span,{className:"token attr-name"},"style"),n.default.createElement(s.span,{className:"token script language-javascript"},n.default.createElement(s.span,{className:"token script-punctuation punctuation"},"="),n.default.createElement(s.span,{className:"token punctuation"},"{"),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
          width`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"80"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          height`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"80"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          background`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token string"},"'#ff6d6d'"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          borderRadius`,n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"8"),n.default.createElement(s.span,{className:"token punctuation"},","),`
          `,n.default.createElement(s.span,{className:"token spread operator"},"..."),"springs",n.default.createElement(s.span,{className:"token punctuation"},","),`
        `,n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},"}")),`
      `,n.default.createElement(s.span,{className:"token punctuation"},"/>")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"41",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"      "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"span"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"},"Render ID \u2013 "),n.default.createElement(s.span,{className:"token punctuation"},"{"),n.default.createElement(s.span,{className:"token known-class-name class-name"},"Math"),n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"random"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),"span"),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"42",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"    "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),"div"),n.default.createElement(s.span,{className:"token punctuation"},">")),`
`),n.default.createElement(s.div,{"data-line":"43",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"44",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`),n.default.createElement(s.div,{"data-line":"45",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"46",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword module"},"export")," ",n.default.createElement(s.span,{className:"token keyword module"},"default")," ",n.default.createElement(s.span,{className:"token keyword"},"function")," ",n.default.createElement(s.span,{className:"token function"},n.default.createElement(s.span,{className:"token maybe-class-name"},"MyComponent")),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"47",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token keyword control-flow"},"return")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),`
`),n.default.createElement(s.div,{"data-line":"48",className:"highlight-line","data-highlighted":"true"},"    ",n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),"div")," ",n.default.createElement(s.span,{className:"token attr-name"},"className"),n.default.createElement(s.span,{className:"token attr-value"},n.default.createElement(s.span,{className:"token punctuation attr-equals"},"="),n.default.createElement(s.span,{className:"token punctuation"},'"'),"flex-container--column",n.default.createElement(s.span,{className:"token punctuation"},'"')),n.default.createElement(s.span,{className:"token punctuation"},">")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"49",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"      "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"ApiComponent"))," ",n.default.createElement(s.span,{className:"token punctuation"},"/>")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"50",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"      "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"<"),n.default.createElement(s.span,{className:"token class-name"},"StateComponent"))," ",n.default.createElement(s.span,{className:"token punctuation"},"/>")),n.default.createElement(s.span,{className:"token plain-text"}),`
`),n.default.createElement(s.div,{"data-line":"51",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token plain-text"},"    "),n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token tag"},n.default.createElement(s.span,{className:"token punctuation"},"</"),"div"),n.default.createElement(s.span,{className:"token punctuation"},">")),`
`),n.default.createElement(s.div,{"data-line":"52",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"53",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),`
`))),`
`,n.default.createElement(s.p,null,`This way of working with react-spring lets you handle updates quicker and more effectively such as the position of the user's mouse.
It is the recommended approach for working with this library.`),`
`,n.default.createElement(s.warning,null,n.default.createElement(s.p,null,"When using a ",n.default.createElement(s.code,null,"SpringRef")," or ",n.default.createElement(s.code,null,"api")," return from a hook, any updates to the hook's configuration object are treated as ",n.default.createElement(s.code,null,"updates"),` and therefore
will not trigger the animation to run. You must call `,n.default.createElement(s.code,null,".start()")," to trigger the animation, thus flushing the update queue.")),`
`,n.default.createElement(s.h2,{id:"methods"},n.default.createElement(s.a,{href:"#methods"},"Methods")),`
`,n.default.createElement(s.p,null,"The entire list of methods & properties are visible ",n.default.createElement(s.a,{href:"/docs/advanced/spring-ref"},"here"),". It's API signature is similar to both the ",n.default.createElement(s.a,{href:"/docs/advanced/controller"},n.default.createElement(s.code,null,"Controller")),`
and `,n.default.createElement(s.a,{href:"/docs/advanced/spring-value"},n.default.createElement(s.code,null,"SpringValue"))," class methods. This is done to create a single unified language across the library."),`
`,n.default.createElement(s.p,null,"The most important methods you'll most likely use are ",n.default.createElement(s.a,{href:"/docs/advanced/spring-ref#start"},n.default.createElement(s.code,null,"start"))," and ",n.default.createElement(s.a,{href:"/docs/advanced/spring-ref#set"},n.default.createElement(s.code,null,"set")),`.
However, if you are opting to use the `,n.default.createElement(s.code,null,"Controller"),` class manually as opposed to using our hooks/components, then you would have to manually
handle the lifecycle of adding/removing Controllers.`),`
`,n.default.createElement(s.h2,{id:"upgrading-from-v8"},n.default.createElement(s.a,{href:"#upgrading-from-v8"},"Upgrading from v8")),`
`,n.default.createElement(s.p,null,"If you're upgrading from v8 of ",n.default.createElement(s.code,null,"react-spring"),`, then welcome! The imperative API is a new feature that has been added to v9. You're probably more
used to an api signature like this:`),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-ts"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"["),"styles",n.default.createElement(s.span,{className:"token punctuation"},",")," set",n.default.createElement(s.span,{className:"token punctuation"},",")," stop",n.default.createElement(s.span,{className:"token punctuation"},"]")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useSpring"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{")," x",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"0")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token function"},"set"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},"  x",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"1"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.p,null,`This was okay for at the time, but as Controllers have become more powerful, it became clear that we needed a way a more scalable way to add methods
to the signature without extending the array too far.`),`
`,n.default.createElement(s.p,null,"The new api signature is like this:"),`
`,n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-ts"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token keyword"},"const")," ",n.default.createElement(s.span,{className:"token punctuation"},"["),"styles",n.default.createElement(s.span,{className:"token punctuation"},",")," api",n.default.createElement(s.span,{className:"token punctuation"},"]")," ",n.default.createElement(s.span,{className:"token operator"},"=")," ",n.default.createElement(s.span,{className:"token function"},"useSpring"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},")")," ",n.default.createElement(s.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{")," x",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"0")," ",n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},"api",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"start"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},"  x",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"1"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`))),`
`,n.default.createElement(s.note,null,n.default.createElement(s.p,null,"We've used ",n.default.createElement(s.code,null,"start")," in the above example demonstrating migration, this is because ",n.default.createElement(s.code,null,"set")," acts like:"),n.default.createElement(s.pre,null,n.default.createElement(s.code,{className:"language-ts"},n.default.createElement(s.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},"api",n.default.createElement(s.span,{className:"token punctuation"},"."),n.default.createElement(s.span,{className:"token method function property-access"},"start"),n.default.createElement(s.span,{className:"token punctuation"},"("),n.default.createElement(s.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(s.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},"  x",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token number"},"1"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},"  immediate",n.default.createElement(s.span,{className:"token operator"},":")," ",n.default.createElement(s.span,{className:"token boolean"},"true"),n.default.createElement(s.span,{className:"token punctuation"},","),`
`),n.default.createElement(s.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},n.default.createElement(s.span,{className:"token punctuation"},"}"),n.default.createElement(s.span,{className:"token punctuation"},")"),`
`)))));return e?n.default.createElement(e,{...o},p):p}var c=l;var h=typeof a<"u"&&a.headers,u=typeof a<"u"&&a.meta,d=typeof a<"u"&&a.handle;export{c as default,d as handle,u as meta};
