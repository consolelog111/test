import{a as p}from"/build/_shared/chunk-QFJ5IYWW.js";import{a as m}from"/build/_shared/chunk-CQXTAVIO.js";import{c as i}from"/build/_shared/chunk-Q3IECNXJ.js";var n=i(m()),o={meta:{title:"Targets | React Spring","og:title":"Targets | React Spring","twitter:title":"Targets | React Spring",description:"An in-depth conceptual guide to react-spring targets and how to make your own.","og:description":"An in-depth conceptual guide to react-spring targets and how to make your own.","twitter:description":"An in-depth conceptual guide to react-spring targets and how to make your own.","og:url":"https://www.react-spring.dev/docs/concepts/targets","twitter:url":"https://www.react-spring.dev/docs/concepts/targets"},sidebar_position:4};function c(s={}){let e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",em:"em",ul:"ul",li:"li",pre:"pre",div:"div",span:"span",h3:"h3"},p(),s.components),{wrapper:t}=e,a=n.default.createElement(n.default.Fragment,null,n.default.createElement(e.h1,{id:"targets"},n.default.createElement(e.a,{href:"#targets"},"Targets")),`
`,n.default.createElement(e.h2,{id:"what-is-a-target"},n.default.createElement(e.a,{href:"#what-is-a-target"},"What is a target?")),`
`,n.default.createElement(e.p,null,`When a target is discussed it is sometimes in reference to the platform, e.g. you create a client side react application
chances are it's targetted at the browser. However, if you write a server-side application then you're targetting node.
Whilst `,n.default.createElement(e.code,null,"react-spring")," does support the targets ",n.default.createElement(e.code,null,"web")," and ",n.default.createElement(e.code,null,"native")," and ",n.default.createElement(e.em,null,"can"),` be server-side rendered. This is not the type
of target we're referring to.`),`
`,n.default.createElement(e.p,null,"A target in ",n.default.createElement(e.code,null,"react-spring")," is a ",n.default.createElement(e.code,null,"react reconciler")," a.k.a ",n.default.createElement(e.code,null,"react renderer"),`. That is, a custom renderer that can process different
JSX components, it's duty is to create / update and remove these elements from the browser. `,n.default.createElement(e.code,null,"react-dom"),` is a prime example of
a `,n.default.createElement(e.code,null,"reconciler"),", it handles DOM elements ",n.default.createElement(e.em,null,"exclusively")," and understands how to apply attributes to those DOM nodes via react ",n.default.createElement(e.code,null,"props"),"."),`
`,n.default.createElement(e.p,null,"Therefore, in ",n.default.createElement(e.code,null,"react-spring")," we have the following targets that correspond to their respective reconcilers:"),`
`,n.default.createElement(e.ul,null,`
`,n.default.createElement(e.li,null,n.default.createElement(e.code,null,"web")," - ",n.default.createElement(e.code,null,"react-dom")),`
`,n.default.createElement(e.li,null,n.default.createElement(e.code,null,"native")," - ",n.default.createElement(e.code,null,"react-native")),`
`,n.default.createElement(e.li,null,n.default.createElement(e.code,null,"three")," - ",n.default.createElement(e.code,null,"react-three-fiber")),`
`,n.default.createElement(e.li,null,n.default.createElement(e.code,null,"konva")," - ",n.default.createElement(e.code,null,"react-konva")),`
`,n.default.createElement(e.li,null,n.default.createElement(e.code,null,"zdog")," - ",n.default.createElement(e.code,null,"react-zdog")),`
`),`
`,n.default.createElement(e.p,null,"To download a target you can use the ",n.default.createElement(e.code,null,"@react-spring/[target]")," format:"),`
`,n.default.createElement(e.pre,null,n.default.createElement(e.code,{className:"language-bash"},n.default.createElement(e.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(e.span,{className:"token function"},"yarn")," ",n.default.createElement(e.span,{className:"token function"},"add"),` @react-spring/web
`))),`
`,n.default.createElement(e.h2,{id:"adding-a-target"},n.default.createElement(e.a,{href:"#adding-a-target"},"Adding a target")),`
`,n.default.createElement(e.p,null,"To create your own target, we offer the ",n.default.createElement(e.code,null,"createHost")," function. This function returns the ",n.default.createElement(e.code,null,"animated"),` components related to the
specific target, e.g. the host created in `,n.default.createElement(e.code,null,"@react-spring/web")," returns the animated dom components such as ",n.default.createElement(e.code,null,"animated.div"),"."),`
`,n.default.createElement(e.p,null,"The signature for ",n.default.createElement(e.code,null,"createHost")," function looks like this:"),`
`,n.default.createElement(e.pre,null,n.default.createElement(e.code,{className:"language-ts"},n.default.createElement(e.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(e.span,{className:"token keyword"},"type")," ",n.default.createElement(e.span,{className:"token class-name"},n.default.createElement(e.span,{className:"token maybe-class-name"},"CreateHost"))," ",n.default.createElement(e.span,{className:"token operator"},"=")," ",n.default.createElement(e.span,{className:"token punctuation"},"("),`
`),n.default.createElement(e.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},"  components",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"AnimatableComponent"),n.default.createElement(e.span,{className:"token punctuation"},"["),n.default.createElement(e.span,{className:"token punctuation"},"]")," ",n.default.createElement(e.span,{className:"token operator"},"|")," ",n.default.createElement(e.span,{className:"token punctuation"},"{")," ",n.default.createElement(e.span,{className:"token punctuation"},"["),"key",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token builtin"},"string"),n.default.createElement(e.span,{className:"token punctuation"},"]"),n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"AnimatableComponent")," ",n.default.createElement(e.span,{className:"token punctuation"},"}"),n.default.createElement(e.span,{className:"token punctuation"},","),`
`),n.default.createElement(e.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},"  config",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"Partial"),n.default.createElement(e.span,{className:"token operator"},"<"),n.default.createElement(e.span,{className:"token maybe-class-name"},"HostConfig"),n.default.createElement(e.span,{className:"token operator"},">"),`
`),n.default.createElement(e.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},n.default.createElement(e.span,{className:"token punctuation"},")")," ",n.default.createElement(e.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(e.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(e.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},"  animated",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"WithAnimated"),`
`),n.default.createElement(e.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},n.default.createElement(e.span,{className:"token punctuation"},"}"),`
`))),`
`,n.default.createElement(e.h3,{id:"animatablecomponent"},n.default.createElement(e.a,{href:"#animatablecomponent"},"AnimatableComponent")),`
`,n.default.createElement(e.p,null,"The first argument ",n.default.createElement(e.code,null,"AnimatableComponent[] | { [key: string]: AnimatableComponent }"),`, is a list of strings that relate the native
elements of the renderer you're targeting. Using the same example of `,n.default.createElement(e.code,null,"@react-spring/web"),`, the components would include the strings
`,n.default.createElement(e.code,null,"'div', 'li'")," etc. These components are then created into ",n.default.createElement(e.code,null,"Animated")," components in the ",n.default.createElement(e.code,null,"createHost")," function via the ",n.default.createElement(e.code,null,"withAnimated"),`
HOC.`),`
`,n.default.createElement(e.h3,{id:"hostconfig"},n.default.createElement(e.a,{href:"#hostconfig"},"HostConfig")),`
`,n.default.createElement(e.pre,null,n.default.createElement(e.code,{className:"language-ts"},n.default.createElement(e.div,{"data-line":"1",className:"highlight-line","data-highlighted":"true"},n.default.createElement(e.span,{className:"token keyword"},"interface")," ",n.default.createElement(e.span,{className:"token class-name"},n.default.createElement(e.span,{className:"token maybe-class-name"},"HostConfig"))," ",n.default.createElement(e.span,{className:"token punctuation"},"{"),`
`),n.default.createElement(e.div,{"data-line":"2",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(e.span,{className:"token doc-comment comment"},"/** Provide custom logic for native updates */"),`
`),n.default.createElement(e.div,{"data-line":"3",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(e.span,{className:"token function-variable function"},"applyAnimatedValues"),n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token punctuation"},"("),"node",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token builtin"},"any"),n.default.createElement(e.span,{className:"token punctuation"},",")," props",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"Lookup"),n.default.createElement(e.span,{className:"token punctuation"},")")," ",n.default.createElement(e.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(e.span,{className:"token builtin"},"boolean")," ",n.default.createElement(e.span,{className:"token operator"},"|")," ",n.default.createElement(e.span,{className:"token keyword"},"void"),`
`),n.default.createElement(e.div,{"data-line":"4",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(e.span,{className:"token doc-comment comment"},"/** Wrap the `style` prop with an animated node */"),`
`),n.default.createElement(e.div,{"data-line":"5",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(e.span,{className:"token function-variable function"},"createAnimatedStyle"),n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token punctuation"},"("),"style",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"Lookup"),n.default.createElement(e.span,{className:"token punctuation"},")")," ",n.default.createElement(e.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"Animated"),`
`),n.default.createElement(e.div,{"data-line":"6",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(e.span,{className:"token doc-comment comment"},"/** Intercept props before they're passed to an animated component */"),`
`),n.default.createElement(e.div,{"data-line":"7",className:"highlight-line","data-highlighted":"true"},"  ",n.default.createElement(e.span,{className:"token function-variable function"},"getComponentProps"),n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token punctuation"},"("),"props",n.default.createElement(e.span,{className:"token operator"},":")," ",n.default.createElement(e.span,{className:"token maybe-class-name"},"Lookup"),n.default.createElement(e.span,{className:"token punctuation"},")")," ",n.default.createElement(e.span,{className:"token arrow operator"},"=>")," ",n.default.createElement(e.span,{className:"token keyword"},"typeof"),` props
`),n.default.createElement(e.div,{"data-line":"8",className:"highlight-line","data-highlighted":"true"},n.default.createElement(e.span,{className:"token punctuation"},"}"),`
`))),`
`,n.default.createElement(e.p,null,"Whilst the entire config object is wrapped in ",n.default.createElement(e.code,null,"Partial"),", meaning that the keys are optional, realistically ",n.default.createElement(e.code,null,"applyAnimatedValues"),` is
required. This is the logic for how the `,n.default.createElement(e.code,null,"Animated")," components apply their ",n.default.createElement(e.code,null,"SpringValues"),`, this typically would come from the reconciler
either attached to the `,n.default.createElement(e.code,null,"instance")," in the case of ",n.default.createElement(e.code,null,"react-konva")," or an exported function like in ",n.default.createElement(e.code,null,"@react-three/fiber"),"."),`
`,n.default.createElement(e.p,null,"The ",n.default.createElement(e.code,null,"createAnimatedStyle")," key of the config object by default takes wraps the ",n.default.createElement(e.code,null,"style")," prop in an ",n.default.createElement(e.code,null,"AnimatedObject"),` instance which has
generic rules on applying keys. In the case of `,n.default.createElement(e.code,null,"@react-spring/web"),`, we pass a custom function which is how we support shorthands for
transformation styles.`),`
`,n.default.createElement(e.p,null,`The getComponentProps is a middleware function that allows you to intercept props before they're passed to the animated component, therefore
you could omit props e.g. `,n.default.createElement(e.code,null,"scrollTop")," for the web because ",n.default.createElement(e.code,null,"@react-spring/web")," expects this to be in the ",n.default.createElement(e.code,null,"style")," object."),`
`,n.default.createElement(e.p,null,"For more information on ",n.default.createElement(e.code,null,"animated")," elements, see ",n.default.createElement(e.a,{href:"/docs/concepts/animated-elements"},"here"),"."));return t?n.default.createElement(t,{...s},a):a}var r=c;var _=typeof o<"u"&&o.headers,d=typeof o<"u"&&o.meta,l=typeof o<"u"&&o.handle;export{r as default,l as handle,d as meta};
